var K=Object.defineProperty;var b=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var B=(e,l,s)=>l in e?K(e,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[l]=s,f=(e,l)=>{for(var s in l||(l={}))C.call(l,s)&&B(e,s,l[s]);if(b)for(var s of b(l))h.call(l,s)&&B(e,s,l[s]);return e};var E=(e,l)=>{var s={};for(var a in e)C.call(e,a)&&l.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&b)for(var a of b(e))l.indexOf(a)<0&&h.call(e,a)&&(s[a]=e[a]);return s};import{o as m}from"./keyboard-b81851fc.mjs";import{k as g,m as x,u as I}from"./render-04a01df5.mjs";import{t as P}from"./use-id-b6e0887a.mjs";import{t as d}from"./dom-0d1fce75.mjs";import{c as L,p as M,l as S}from"./open-closed-5740cd5c.mjs";import{b as A}from"./use-resolve-button-type-bc6e1b89.mjs";import{g as k,h as D,p as j,i as O,s as T,l as G}from"./entry-fba3770b.mjs";var J=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(J||{});let $=Symbol("DisclosureContext");function w(e){let l=T($,null);if(l===null){let s=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,w),s}return l}let H=Symbol("DisclosurePanelContext");function R(){return T(H,null)}let X=k({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:l,attrs:s}){let a=`headlessui-disclosure-button-${P()}`,t=`headlessui-disclosure-panel-${P()}`,n=D(e.defaultOpen?0:1),c=D(null),u=D(null),r={buttonId:a,panelId:t,disclosureState:n,panel:c,button:u,toggleDisclosure(){n.value=I(n.value,{[0]:1,[1]:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(i){r.closeDisclosure();let p=(()=>i?i instanceof HTMLElement?i:i.value instanceof HTMLElement?d(i):d(r.button):d(r.button))();p==null||p.focus()}};return j($,r),L(O(()=>I(n.value,{[0]:S.Open,[1]:S.Closed}))),()=>{let o=e,{defaultOpen:i}=o,p=E(o,["defaultOpen"]),y={open:n.value===0,close:r.close};return g({props:p,slot:y,slots:l,attrs:s,name:"Disclosure"})}}}),Y=k({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(e,{attrs:l,slots:s,expose:a}){let t=w("DisclosureButton"),n=R(),c=n===null?!1:n===t.panelId,u=D(null);a({el:u,$el:u}),c||G(()=>{t.button.value=u.value});let r=A(O(()=>({as:e.as,type:l.type})),u);function i(){var o;e.disabled||(c?(t.toggleDisclosure(),(o=d(t.button))==null||o.focus()):t.toggleDisclosure())}function p(o){var v;if(!e.disabled)if(c)switch(o.key){case m.Space:case m.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure(),(v=d(t.button))==null||v.focus();break}else switch(o.key){case m.Space:case m.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure();break}}function y(o){switch(o.key){case m.Space:o.preventDefault();break}}return()=>{let o={open:t.disclosureState.value===0},v=c?{ref:u,type:r.value,onClick:i,onKeydown:p}:{id:t.buttonId,ref:u,type:r.value,"aria-expanded":e.disabled?void 0:t.disclosureState.value===0,"aria-controls":d(t.panel)?t.panelId:void 0,disabled:e.disabled?!0:void 0,onClick:i,onKeydown:p,onKeyup:y};return g({props:f(f({},e),v),slot:o,attrs:l,slots:s,name:"DisclosureButton"})}}}),Z=k({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:l,slots:s,expose:a}){let t=w("DisclosurePanel");a({el:t.panel,$el:t.panel}),j(H,t.panelId);let n=M(),c=O(()=>n!==null?n.value===S.Open:t.disclosureState.value===0);return()=>{let u={open:t.disclosureState.value===0,close:t.close},r={id:t.panelId,ref:t.panel};return g({props:f(f({},e),r),slot:u,attrs:l,slots:s,features:x.RenderStrategy|x.Static,visible:c.value,name:"DisclosurePanel"})}}});export{X as Disclosure,Y as DisclosureButton,Z as DisclosurePanel};
