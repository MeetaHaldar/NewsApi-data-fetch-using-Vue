var C=Object.defineProperty;var w=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var O=(t,a,l)=>a in t?C(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,x=(t,a)=>{for(var l in a||(a={}))G.call(a,l)&&O(t,l,a[l]);if(w)for(var l of w(a))H.call(a,l)&&O(t,l,a[l]);return t};import{k as P,R as N,m as $,u as R}from"./render-04a01df5.mjs";import{t as B}from"./use-id-b6e0887a.mjs";import{o as c}from"./keyboard-b81851fc.mjs";import{t as I}from"./dom-0d1fce75.mjs";import{H as y,p as v}from"./focus-management-c0b49fb2.mjs";import{b as W}from"./use-resolve-button-type-bc6e1b89.mjs";import{l as q}from"./visually-hidden-0af70af8.mjs";import{g as h,h as T,k,i as g,p as U,l as z,F as M,m as D,n as E,s as K}from"./entry-fba3770b.mjs";import"./owner-f2792c55.mjs";let Y=h({props:{onFocus:{type:Function,required:!0}},setup(t){let a=T(!0);return()=>a.value?k(q,{as:"button",type:"button",onFocus(l){l.preventDefault();let o,e=50;function i(){if(e--<=0){o&&cancelAnimationFrame(o);return}if(t.onFocus()){a.value=!1,cancelAnimationFrame(o);return}o=requestAnimationFrame(i)}o=requestAnimationFrame(i)}}):null}}),j=Symbol("TabsContext");function S(t){let a=K(j,null);if(a===null){let l=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,S),l}return a}let re=h({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:a,attrs:l,emit:o}){let e=T(null),i=T([]),s=T([]),p={selectedIndex:e,orientation:g(()=>t.vertical?"vertical":"horizontal"),activation:g(()=>t.manual?"manual":"auto"),tabs:i,panels:s,setSelectedIndex(r){e.value!==r&&(e.value=r,o("change",r))},registerTab(r){i.value.includes(r)||i.value.push(r)},unregisterTab(r){let u=i.value.indexOf(r);u!==-1&&i.value.splice(u,1)},registerPanel(r){s.value.includes(r)||s.value.push(r)},unregisterPanel(r){let u=s.value.indexOf(r);u!==-1&&s.value.splice(u,1)}};return U(j,p),z(()=>{var r;if(p.tabs.value.length<=0||t.selectedIndex===null&&e.value!==null)return;let u=p.tabs.value.map(b=>I(b)).filter(Boolean),d=u.filter(b=>!b.hasAttribute("disabled")),f=(r=t.selectedIndex)!=null?r:t.defaultIndex;if(f<0)e.value=u.indexOf(d[0]);else if(f>p.tabs.value.length)e.value=u.indexOf(d[d.length-1]);else{let b=u.slice(0,f),A=[...u.slice(f),...b].find(n=>d.includes(n));if(!A)return;e.value=u.indexOf(A)}}),()=>{let r={selectedIndex:e.value};return k(M,[k(Y,{onFocus:()=>{for(let u of i.value){let d=I(u);if((d==null?void 0:d.tabIndex)===0)return d.focus(),!0}return!1}}),P({props:x(x({},l),N(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])),slot:r,slots:a,attrs:l,name:"TabGroup"})])}}}),ne=h({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:a,slots:l}){let o=S("TabList");return()=>{let e={selectedIndex:o.selectedIndex.value},i={role:"tablist","aria-orientation":o.orientation.value};return P({props:x(x({},t),i),slot:e,attrs:a,slots:l,name:"TabList"})}}}),se=h({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(t,{attrs:a,slots:l,expose:o}){let e=S("Tab"),i=`headlessui-tabs-tab-${B()}`,s=T(null);o({el:s,$el:s}),D(()=>e.registerTab(s)),E(()=>e.unregisterTab(s));let p=g(()=>e.tabs.value.indexOf(s)),r=g(()=>p.value===e.selectedIndex.value);function u(n){let m=e.tabs.value.map(F=>I(F)).filter(Boolean);if(n.key===c.Space||n.key===c.Enter){n.preventDefault(),n.stopPropagation(),e.setSelectedIndex(p.value);return}switch(n.key){case c.Home:case c.PageUp:return n.preventDefault(),n.stopPropagation(),y(m,v.First);case c.End:case c.PageDown:return n.preventDefault(),n.stopPropagation(),y(m,v.Last)}return R(e.orientation.value,{vertical(){if(n.key===c.ArrowUp)return y(m,v.Previous|v.WrapAround);if(n.key===c.ArrowDown)return y(m,v.Next|v.WrapAround)},horizontal(){if(n.key===c.ArrowLeft)return y(m,v.Previous|v.WrapAround);if(n.key===c.ArrowRight)return y(m,v.Next|v.WrapAround)}})}function d(){var n;(n=I(s))==null||n.focus()}function f(){var n;t.disabled||((n=I(s))==null||n.focus(),e.setSelectedIndex(p.value))}function b(n){n.preventDefault()}let A=W(g(()=>({as:t.as,type:a.type})),s);return()=>{var n,m;let F={selected:r.value},L={ref:s,onKeydown:u,onFocus:e.activation.value==="manual"?d:f,onMousedown:b,onClick:f,id:i,role:"tab",type:A.value,"aria-controls":(m=(n=e.panels.value[p.value])==null?void 0:n.value)==null?void 0:m.id,"aria-selected":r.value,tabIndex:r.value?0:-1,disabled:t.disabled?!0:void 0};return P({props:x(x({},t),L),slot:F,attrs:a,slots:l,name:"Tab"})}}}),ue=h({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:a,attrs:l}){let o=S("TabPanels");return()=>{let e={selectedIndex:o.selectedIndex.value};return P({props:t,slot:e,attrs:l,slots:a,name:"TabPanels"})}}}),oe=h({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:a,slots:l,expose:o}){let e=S("TabPanel"),i=`headlessui-tabs-panel-${B()}`,s=T(null);o({el:s,$el:s}),D(()=>e.registerPanel(s)),E(()=>e.unregisterPanel(s));let p=g(()=>e.panels.value.indexOf(s)),r=g(()=>p.value===e.selectedIndex.value);return()=>{var u,d;let f={selected:r.value},b={ref:s,id:i,role:"tabpanel","aria-labelledby":(d=(u=e.tabs.value[p.value])==null?void 0:u.value)==null?void 0:d.id,tabIndex:r.value?0:-1};return P({props:x(x({},t),b),slot:f,attrs:a,slots:l,features:$.Static|$.RenderStrategy,visible:r.value,name:"TabPanel"})}}});export{se as Tab,re as TabGroup,ne as TabList,oe as TabPanel,ue as TabPanels};
